-*- mode:hi-lock; eval: (highlight-regexp " \$.*" 'bold) -*-

Renaming an ordinary branch is as simple as:

 $ git branch -m master production

A remote branch can't be renamed (neither locally nor remotely).  It can only be
deleted (locally and then remotely) and a renamed ordinary branch pushed to the
remote repository in its place.

So, to delete a local remote branch:

 $ git branch -dr origin/master

and to delete the remote remote branch, push the deleted local remote branch to
your remote repository:

 $ git push origin :master

not forgetting to precede the name of the deleted local remote branch with a
colon. [1]

Branch 'master' in the remote repository has now been deleted and it only
remains to push the renamed ordinary branch to the remote repository in order to
complete the 'renaming' process:

 $ git push -u origin production

Finally, a note about github repositories.  If you get an error message that
looks something like this:

 remote: error: refusing to delete the current branch: refs/heads/master
 To git@github.com:sebyte/gitana.git
  ! [remote rejected] develop (deletion of the current branch prohibited)

when trying to delete a branch on github, this is because the branch is
currently the 'default' branch in terms of the github web interface.  The fix is
simple.  Click the 'Admin' button, select an alternative default branch and then
try again.


[1] On closer inspection of (gitman "push" 75) I now understand this notation a
    little better.  The general synopsis of git push is:

     git push [<options>] [<remote> [<refspec>...]]

    so in this case there are no options, 'origin' is the repository and
    ':master' is the refspec.

     git push --delete origin master

    does the same thing (and makes what's going on a lot clearer IMHO).
